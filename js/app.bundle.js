(()=>{"use strict";const t=$("#local-time"),e=$("#lat"),o=$("#long"),n=$("#city-name"),a=$("#region-name"),r=$("#country-name"),s=$("#temp"),i=$("#humidity"),l=$("#weather"),m=$("#weather-min"),c=$("#weather-max"),h=$("#day1"),d=$("#day2"),u=$("#day3"),p=$("#day4"),g=$("#day5"),x=$("#day6"),y=$("#day7"),w="d12f1c70ff84d00a509bf50060d7af7c",C=(t,e)=>{if(navigator.geolocation)navigator.geolocation.getCurrentPosition((e=>{const o=e.coords.latitude,n=e.coords.longitude;t(o,n)}),(t=>{console.error("Error:",t.message),e&&e(t.message)}));else{const t="Geolocation is not supported by this browser.";console.error("Error:",t),e&&e(t)}};$(window).on("load",(()=>{C(((t,$)=>{fetch(`https://api.opencagedata.com/geocode/v1/json?key=250178f6b314472c95280f5f73d608e1&q=${t},${$}`).then((t=>t.json())).then((t=>{var s;console.log(t),console.log(t.results[0].components.city||t.results[0].components.county),console.log(t.results[0].components.state),console.log(t.results[0].components.country),s=t,C(((t,n)=>{e.text(t),o.text(n)})),n.text(s.results[0].components.city||s.results[0].components.county),a.text(s.results[0].components.state),r.text(s.results[0].components.country)})).catch((t=>{console.error("Error:",t)})),fetch(`https://api.openweathermap.org/data/2.5/weather?lat=${t}&lon=${$}&appid=${w}&units=metric`).then((t=>t.json())).then((t=>{var e;console.log(t),console.log(t.weather[0].main),console.log(t.weather[0].description),console.log(t.main.temp),console.log(t.main.humidity),e=t,s.text(e.main.temp+"°C"),i.text(e.main.humidity+"%"),l.text(e.weather[0].main)})).catch((t=>{console.error("Error:",t)})),fetch(`https://api.openweathermap.org/data/2.5/forecast/daily?lat=${t}&lon=${$}&cnt=7&appid=${w}&units=metric`).then((t=>t.json())).then((t=>{m.text(Math.round(t.list[0].temp.max)+"°C"),c.text(Math.round(t.list[0].temp.min)+"°C"),h.text(Math.round(t.list[0].temp.max)+"°C/"+Math.round(t.list[0].temp.min)+"°C,"+t.list[0].weather[0].main),d.text(Math.round(t.list[1].temp.max)+"°C/"+Math.round(t.list[1].temp.min)+"°C,"+t.list[1].weather[0].main),u.text(Math.round(t.list[2].temp.max)+"°C/"+Math.round(t.list[2].temp.min)+"°C,"+t.list[2].weather[0].main),p.text(Math.round(t.list[3].temp.max)+"°C/"+Math.round(t.list[3].temp.min)+"°C,"+t.list[3].weather[0].main),g.text(Math.round(t.list[4].temp.max)+"°C/"+Math.round(t.list[4].temp.min)+"°C,"+t.list[4].weather[0].main),x.text(Math.round(t.list[5].temp.max)+"°C/"+Math.round(t.list[5].temp.min)+"°C,"+t.list[5].weather[0].main),y.text(Math.round(t.list[6].temp.max)+"°C/"+Math.round(t.list[6].temp.min)+"°C,"+t.list[6].weather[0].main),console.log(t)})).catch((t=>{console.error("Error:",t)}))}),(t=>{alert("Unable to retrieve your location. Please ensure location services are enabled."),console.error("Geolocation error:",t)}));const M=()=>{const e=new Date;let o=e.getHours(),n=e.getMinutes(),a=e.getSeconds();o=o<10?"0"+o:o,n=n<10?"0"+n:n,a=a<10?"0"+a:a;let r=o+":"+n+":"+a;t.text(r),setTimeout(M,1e3)};M();const f=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];!function(){let t=(new Date).getDay();for(let e=1;e<=7;e++){let o=(t+e-1)%7;$(`#d${e}`).text(f[o])}}()}))})();