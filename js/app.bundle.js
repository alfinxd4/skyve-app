(()=>{"use strict";const e=$("#lat"),o=$("#long"),t=$("#city-name"),n=$("#region-name"),r=$("#country-name"),s=$("#temp"),c=$("#humidity"),a=$("#weather"),l=$("#weather-detail"),i=(e,o)=>{if(navigator.geolocation)navigator.geolocation.getCurrentPosition((o=>{const t=o.coords.latitude,n=o.coords.longitude;e(t,n)}),(e=>{console.error("Error:",e.message),o&&o(e.message)}));else{const e="Geolocation is not supported by this browser.";console.error("Error:",e),o&&o(e)}};$(window).on("load",(()=>{i(((m,p)=>{fetch(`https://api.opencagedata.com/geocode/v1/json?key=250178f6b314472c95280f5f73d608e1&q=${m},${p}`).then((e=>e.json())).then((s=>{var c;console.log(s),console.log(s.results[0].components.city||s.results[0].components.county),console.log(s.results[0].components.state),console.log(s.results[0].components.country),c=s,i(((t,n)=>{e.text(t),o.text(n)})),t.text(c.results[0].components.city||c.results[0].components.county),n.text(c.results[0].components.state),r.text(c.results[0].components.country)})).catch((e=>{console.error("Error:",e)})),fetch(`https://api.openweathermap.org/data/2.5/weather?lat=${m}&lon=${p}&appid=d12f1c70ff84d00a509bf50060d7af7c&units=metric`).then((e=>e.json())).then((e=>{var o;console.log(e),console.log(e.weather[0].main),console.log(e.weather[0].description),console.log(e.main.temp),console.log(e.main.humidity),o=e,s.text(o.main.temp+"Â°C"),c.text(o.main.humidity),a.text(o.weather[0].main),l.text(o.weather[0].description.split(" ").map((e=>e.charAt(0).toUpperCase()+e.slice(1))).join(" "))})).catch((e=>{console.error("Error:",e)}))}),(e=>{alert("Unable to retrieve your location. Please ensure location services are enabled."),console.error("Geolocation error:",e)}))}))})();